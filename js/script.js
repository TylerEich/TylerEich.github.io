System.register("promise",[],function(t,e){"use strict";function n(){}function r(t,e){return function(){t.apply(e,arguments)}}function i(t,e){for(;3===t._state;)t=t._value;return 0===t._state?void t._deferreds.push(e):void l(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._state?o:u)(e.promise,t._value);var r;try{r=n(t._value)}catch(i){return void u(e.promise,i)}o(e.promise,r)})}function o(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof h)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void s(r(n,e),t)}t._state=1,t._value=e,c(t)}catch(i){u(t,i)}}function u(t,e){t._state=2,t._value=e,c(t)}function c(t){for(var e=0,n=t._deferreds;e<n.length;e++){var r=n[e];i(t,r)}t._deferreds=null}function a(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function s(t,e){var n=!1;try{t(function(t){n||(n=!0,o(e,t))},function(t){n||(n=!0,u(e,t))})}catch(r){if(n)return;n=!0,u(e,r)}}var f=e&&e.id,d,l,m,h;return{setters:[],execute:function(){d=setTimeout,l="function"==typeof setImmediate&&setImmediate||function(t){d(t,1)},m=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},h=function(){function t(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._value=void 0,this._deferreds=[],s(t,this)}return t.prototype["catch"]=function(t){return this.then(null,t)},t.prototype.then=function(e,r){void 0===r&&(r=void 0);var o=new t(n);return i(this,new a(e,r,o)),o},t.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&m(arguments[0])?arguments[0]:arguments);return new t(function(t,n){function r(o,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var c=u.then;if("function"==typeof c)return void c.call(u,function(t){r(o,t)},n)}e[o]=u,0===--i&&t(e)}catch(a){n(a)}}if(0===e.length)return t([]);for(var i=e.length,o=0;o<e.length;o++)r(o,e[o])})},t.resolve=function(e){return e&&"object"==typeof e&&e.constructor===t?e:new t(function(t){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var r=0,i=e;r<i.length;r++){var o=i[r];o.then(t,n)}})},t._setImmediateFn=function(t){l=t},t}(),t("Promise",h)}}}),System.register("utils",["promise"],function(t,e){"use strict";function n(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t.bind.apply(t,[null].concat(e))}function r(t){return new a.Promise(function(e,n){return void setTimeout(e,t)})}function i(t){return new a.Promise(function(e,n){return void requestAnimationFrame(function(){t(),e()})})}function o(t){return void 0===t.length?[t]:[].slice.call(t)}function u(t,e,n){t.addEventListener(e,function(t){return t.target.removeEventListener(t.type,arguments.callee),n(t)})}var c=e&&e.id,a;return t("bind",n),t("wait",r),t("raf",i),t("makeArray",o),t("listenOnce",u),{setters:[function(t){a=t}],execute:function(){}}}),System.register("fastdom",[],function(t,e){"use strict";function n(){var t=this;t.reads=[],t.writes=[],t.raf=f,s("initialized",t)}function r(t){t.scheduled||(t.scheduled=!0,t.raf(i.bind(null,t)),s("flush scheduled"))}function i(t){s("flush");var e=t.writes,n=t.reads,i;try{s("flushing reads",n.length),o(n),s("flushing writes",e.length),o(e)}catch(u){i=u}if(t.scheduled=!1,(n.length||e.length)&&r(t),i){if(s("task errored",i.message),!t["catch"])throw i;t["catch"](i)}}function o(t){s("run tasks");for(var e;e=t.shift();)e.fn.call(e.ctx)}function u(t,e){var n=t.indexOf(e);return!!~n&&!!t.splice(n,1)}function c(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}var a=e&&e.id,s,f,d;return{setters:[],execute:function(){s=function(){},f=(window.requestAnimationFrame||function(t){return setTimeout(t,16)}).bind(window),n.prototype={constructor:n,measure:function(t,e){s("measure");var n={fn:t,ctx:e};return this.reads.push(n),r(this),n},mutate:function(t,e){s("mutate");var n={fn:t,ctx:e};return this.writes.push(n),r(this),n},clear:function(t){return s("clear",t),u(this.reads,t)||u(this.writes,t)},extend:function(t){if(s("extend",t),"object"!=typeof t)throw new Error("expected object");var e=Object.create(this);return c(e,t),e.fastdom=this,e.initialize&&e.initialize(),e},"catch":null},t("fastdom",d=new n)}}}),System.register("elements",["fastdom","utils"],function(t,e){"use strict";function n(t){var e=t.getBoundingClientRect();return e.top<=window.innerHeight&&e.bottom>=0}function r(t){var e=t.getBoundingClientRect(),n=document.body.scrollHeight,r=document.body.scrollTop,i=r/n*window.innerHeight;return e.top<=i&&e.bottom>=i}function i(t,e,n,r){void 0===r&&(r=0),n=s.makeArray(n);var i=n.reduce(function(n,i){var o=n.then(function(){return s.wait(r)}).then(function(){return a.fastdom.mutate(function(){e?i.classList.add(t):i.classList.remove(t)})});return o},s.wait(0));return i}function o(t,e,n){return void 0===n&&(n=0),i(t,!0,e,n)}function u(t,e,n){return void 0===n&&(n=0),i(t,!1,e,n)}var c=e&&e.id,a,s;return t("isVisible",n),t("isActive",r),t("setClassOnNodes",i),t("addClassToNodes",o),t("removeClassFromNodes",u),{setters:[function(t){a=t},function(t){s=t}],execute:function(){}}}),System.register("animation",["fastdom","promise","utils","elements"],function(t,e){"use strict";function n(t){return f.fastdom.measure(function(){var e=t.filter(m.isVisible),n=t.filter(function(t){return!m.isVisible(t)});return t.splice(0,Number.MAX_VALUE),t.splice.apply(t,[0,0].concat(n)),e.reduce(function(t,e){return t.then(function(){return m.removeClassFromNodes("reveal",e,100)})},l.wait(0))})}function r(){function t(t,e){e.textContent+=t}function e(e,n){var r=e.split(""),i=r.reduce(function(e,r){var i=h+Math.random()*h/3,o=e.then(function(){return l.wait(i)}).then(function(){return f.fastdom.mutate(function(){return t(r,n)})});return o},l.wait(0));return i}var n=document.querySelector("#hello-world"),r=l.wait(500).then(function(){return e("Hello world",n)}).then(function(){return l.wait(750)}).then(function(){var t=document.querySelector("#tyler-eich");f.fastdom.mutate(function(){return t.classList.remove("hide")})}).then(function(){return l.wait(750)}).then(function(){var t=document.querySelector("header");f.fastdom.mutate(function(){return t.classList.remove("hide")})});return r}function i(t,e){var n=t.style.transform,r=n.match(/(-?\d+\.?\d*)px, (-?\d+\.?\d*)px/),i=0,o=0;r&&(i=Number(r[1]),o=Number(r[2]));var u=t.getBoundingClientRect(),c=u.top-o,a=u.bottom-o,s=u.left-i,d=u.right-i,l=e.x-(s+d)/2,m=e.y-(c+a)/2;l=l>0?Math.pow(l,.5)/10:-Math.pow(-l,.5)/10,m=m>0?Math.pow(m,.5)/10:-Math.pow(-m,.5)/10;var h={x:l*Math.log(u.width),y:m*Math.log(u.height)};f.fastdom.mutate(function(){return t.style.transform="translate("+h.x+"px,"+h.y+"px)"})}function o(t){for(var e=l.makeArray(document.querySelectorAll(".parallax")),n=function(e){f.fastdom.measure(function(){m.isVisible(e)&&i(e,t)})},r=0,o=e;r<o.length;r++){var u=o[r];n(u)}}function u(t){f.fastdom.measure(function(){var e=t.filter(function(t){return m.isActive(t.section)}),n=t.filter(function(t){return-1===e.indexOf(t)});m.removeClassFromNodes("active",n.map(function(t){return t.link})),m.addClassToNodes("active",e.map(function(t){return t.link}))})}function c(t,e,n,r){var i=r/n,o=0;o=.5>i?16*Math.pow(i,5):1+16*Math.pow(i-1,5);var u=o*(e-t)+t;window.scrollTo(0,u)}function a(t){var e=window.scrollY,n=document.body.scrollHeight,r=window.innerHeight,i=t.getBoundingClientRect(),o=i.top,u=i.bottom,a=n-r,s=o+e,f=Math.min(a,s),l=performance.now(),m=!1;window.addEventListener("scroll",function(){});var h=new d.Promise(function(t,n){var r=function(n){m||(c(e,f,750,n-l),750>=n-l?requestAnimationFrame(r):t())};requestAnimationFrame(r)});return h}var s=e&&e.id,f,d,l,m,h;return t("enterItems",n),t("animatePageLanding",r),t("parallax",o),t("followNav",u),t("slideToItem",a),{setters:[function(t){f=t},function(t){d=t},function(t){l=t},function(t){m=t}],execute:function(){h=100}}}),System.register("script",["utils","elements","animation"],function(t,e){"use strict";function n(){var t=!("ontouchstart"in window),e=document.querySelectorAll(".no-touch");u.setClassOnNodes("no-touch",t,e,0)}function r(){function t(){s(),f(),u=!1}function e(){u||(requestAnimationFrame(t),u=!0)}c.animatePageLanding(),n();var r=o.makeArray(document.querySelectorAll(".reveal")),i=o.makeArray(document.querySelectorAll(".link")).map(function(t){var e=t.getAttribute("href"),n=document.querySelector(e);return{link:t,href:e,section:n}});i.forEach(function(t){t.link.addEventListener("click",function(e){e.preventDefault();var n=t.href;c.slideToItem(t.section).then(function(){window.location.hash="",window.location.href=t.href})})});var u=!1,a={},s=o.bind(c.enterItems,r),f=o.bind(c.followNav,i);e(),window.addEventListener("load",e),window.addEventListener("scroll",e),window.addEventListener("resize",e);var d=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i);d?window.addEventListener("mousemove",function(t){var n=t.screenX-window.screenX,r=t.screenY-window.screenY;a={x:n,y:r},e()}):(a={x:window.innerWidth/2,y:window.innerHeight/2},window.addEventListener("resize",function(){a={x:window.innerWidth/2,y:window.innerHeight/2},e()})),window.addEventListener("resize",e)}var i=e&&e.id,o,u,c;return{setters:[function(t){o=t},function(t){u=t},function(t){c=t}],execute:function(){"loading"!==document.readyState?r():window.addEventListener("DOMContentLoaded",r)}}});
//# sourceMappingURL=./script.js.map