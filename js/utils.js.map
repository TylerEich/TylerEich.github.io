{"version":3,"sources":["../scripts/promise.ts","../scripts/utils.ts"],"names":["noop","bind","fn","thisArg","apply","arguments","handle","self","deferred","_state","_value","_deferreds","push","asap","cb","onFulfilled","onRejected","resolve","reject","promise","ret","e","newValue","TypeError","then","Promise","finale","doResolve","_i","_a","length","Handler","this","done","value","reason","ex","setTimeoutFunc","isArray","setTimeout","setImmediate","Array","Object","prototype","toString","call","undefined","prom","all","args","slice","res","i","val","remaining","constructor","race","values","values_1","_setImmediateFn","exports_1","concat","wait","ms","promise_1","raf","callback","requestAnimationFrame","makeArray","list","listenOnce","node","type","addEventListener","target","removeEventListener","callee","exports_2"],"mappings":"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","file":"utils.js","sourceRoot":""}