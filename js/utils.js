System.register("promise",[],function(t,e){"use strict";function n(){}function r(t,e){return function(){t.apply(e,arguments)}}function o(t,e){for(;3===t._state;)t=t._value;return 0===t._state?void t._deferreds.push(e):void v(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._state?i:u)(e.promise,t._value);var r;try{r=n(t._value)}catch(o){return void u(e.promise,o)}i(e.promise,r)})}function i(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof p)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void s(r(n,e),t)}t._state=1,t._value=e,c(t)}catch(o){u(t,o)}}function u(t,e){t._state=2,t._value=e,c(t)}function c(t){for(var e=0,n=t._deferreds;e<n.length;e++){var r=n[e];o(t,r)}t._deferreds=null}function f(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function s(t,e){var n=!1;try{t(function(t){n||(n=!0,i(e,t))},function(t){n||(n=!0,u(e,t))})}catch(r){if(n)return;n=!0,u(e,r)}}var a=e&&e.id,l,v,d,p;return{setters:[],execute:function(){l=setTimeout,v="function"==typeof setImmediate&&setImmediate||function(t){l(t,1)},d=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},p=function(){function t(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._value=void 0,this._deferreds=[],s(t,this)}return t.prototype["catch"]=function(t){return this.then(null,t)},t.prototype.then=function(e,r){void 0===r&&(r=void 0);var i=new t(n);return o(this,new f(e,r,i)),i},t.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&d(arguments[0])?arguments[0]:arguments);return new t(function(t,n){function r(i,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var c=u.then;if("function"==typeof c)return void c.call(u,function(t){r(i,t)},n)}e[i]=u,0===--o&&t(e)}catch(f){n(f)}}if(0===e.length)return t([]);for(var o=e.length,i=0;i<e.length;i++)r(i,e[i])})},t.resolve=function(e){return e&&"object"==typeof e&&e.constructor===t?e:new t(function(t){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var r=0,o=e;r<o.length;r++){var i=o[r];i.then(t,n)}})},t._setImmediateFn=function(t){v=t},t}(),t("Promise",p)}}}),System.register("utils",["promise"],function(t,e){"use strict";function n(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t.bind.apply(t,[null].concat(e))}function r(t){return new f.Promise(function(e,n){return void setTimeout(e,t)})}function o(t){return new f.Promise(function(e,n){return void requestAnimationFrame(function(){t(),e()})})}function i(t){return void 0===t.length?[t]:[].slice.call(t)}function u(t,e,n){t.addEventListener(e,function(t){return t.target.removeEventListener(t.type,arguments.callee),n(t)})}var c=e&&e.id,f;return t("bind",n),t("wait",r),t("raf",o),t("makeArray",i),t("listenOnce",u),{setters:[function(t){f=t}],execute:function(){}}});
//# sourceMappingURL=./utils.js.map